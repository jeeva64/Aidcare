{% extends 'main.html'%}
{% load static %}
{% block nav %}
    {% if 'user_id' in request.session %}
        <li class="nav-item"><a class="nav-link fw-bold" href="/trust_dashboard">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link fw-bold" href="{% url 'create_post' %}">New Post</a></li>
        <li class="nav-item"><a class="nav-link fw-bold" href="{% url 'view_request' %}">Post Response</a></li>
        <li class="nav-item"><a class="nav-link fw-bold" href="/logout">Logout</a></li>
    {% else %}
        <li class="nav-item"><a class="nav-linkf w-bold" href="/register">Register</a></li>
        <li class="nav-item"><a class="nav-link fw-bold" href="/login">Login</a></li>
        <li class="nav-item"><a class="nav-link fw-bold" href="/about">About</a></li> 
        <li class="nav-item"><a class="nav-link fw-bold" href="/contact">Contact</a></li>
    {% endif %}
{% endblock %}
{% block content %}
<h2>Create Post</h2>
<form method="post" id="postForm" enctype="multipart/form-data" novalidate>
    {% csrf_token %}
    {% if errors %}
        <div class="alert alert-danger">
            <ul>
                {% for tag, error in errors.items %}
                    <li>{{ tag }}: {{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    <label for="title">Title:</label>
    <input type="text" name="title" id="title"><br>
    <span id="titleError" class="text-danger"></span><br>

    <label for="description">Description:</label>
    <textarea name="description" id="description" required></textarea><br>
    <span class="text-danger" id="descriptionError"></span><br>

    <label for="district">District:</label>
    <select name="district" id="district" required>
        <option value="">Select District</option>
        <option value="Ariyalur">Ariyalur</option>
        <option value="Chengalpattu">Chengalpattu</option>
        <option value="Chennai">Chennai</option>
        <option value="Coimbatore">Coimbatore</option>
        <option value="Cuddalore">Cuddalore</option>
        <option value="Dharmapuri">Dharmapuri</option>
        <option value="Dindigul">Dindigul</option>
        <option value="Erode">Erode</option>
        <option value="Kallakurichi">Kallakurichi</option>
        <option value="Kanchipuram">Kanchipuram</option>
        <option value="Kanyakumari">Kanyakumari</option>
        <option value="Karur">Karur</option>
        <option value="Krishnagiri">Krishnagiri</option>
        <option value="Madurai">Madurai</option>
        <option value="Mayiladuthurai">Mayiladuthurai</option>
        <option value="Nagapattinam">Nagapattinam</option>
        <option value="Namakkal">Namakkal</option>
        <option value="Nilgiris">Nilgiris</option>
        <option value="Perambalur">Perambalur</option>
        <option value="Pudukkottai">Pudukkottai</option>
        <option value="Ramanathapuram">Ramanathapuram</option>
        <option value="Ranipet">Ranipet</option>
        <option value="Salem">Salem</option>
        <option value="Sivaganga">Sivaganga</option>
        <option value="Tenkasi">Tenkasi</option>
        <option value="Thanjavur">Thanjavur</option>
        <option value="Theni">Theni</option>
        <option value="Thoothukudi">Thoothukudi</option>
        <option value="Tiruchirappalli">Tiruchirappalli</option>
        <option value="Tirunelveli">Tirunelveli</option>
        <option value="Tirupattur">Tirupattur</option>
        <option value="Tiruppur">Tiruppur</option>
        <option value="Tiruvallur">Tiruvallur</option>
        <option value="Tiruvannamalai">Tiruvannamalai</option>
        <option value="Tiruvarur">Tiruvarur</option>
        <option value="Vellore">Vellore</option>
        <option value="Viluppuram">Viluppuram</option>
        <option value="Virudhunagar">Virudhunagar</option>
    </select><br>
    <span id="districtError" class="text-danger"></span><br>

    <label for="image">Image:</label>
    <input type="file" name="image" id="image" required><br>
    <span id="imageError" class="text-danger"></span><br>

    <input type="submit" class="btn btn-primary" value="Post">
</form>
<script src="{% static 'js/postValidate.js' %}"></script>
{% endblock %}
